{"ast":null,"code":"var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport arrayReduce from 'fast-loops/lib/arrayReduce';\nimport isPlainObject from 'isobject';\n\nfunction renderFontFace(fontFace, renderer) {\n  if (typeof fontFace === 'string') {\n    return fontFace;\n  }\n\n  var fontFamily = fontFace.fontFamily,\n      src = fontFace.src,\n      otherProps = _objectWithoutProperties(fontFace, ['fontFamily', 'src']);\n\n  if (typeof fontFamily === 'string' && Array.isArray(src)) {\n    return renderer.renderFont(fontFamily, src, otherProps);\n  } // TODO: warning - invalid font data\n\n\n  return undefined;\n}\n\nfunction embedded(style, type, renderer, props) {\n  var _loop = function _loop(property) {\n    var value = style[property];\n\n    if (property === 'fontFace' && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n      if (Array.isArray(value)) {\n        style.fontFamily = arrayReduce(value, function (fontFamilyList, fontFace) {\n          var fontFamily = renderFontFace(fontFace, renderer);\n\n          if (fontFamily && fontFamilyList.indexOf(fontFamily) === -1) {\n            fontFamilyList.push(fontFamily);\n          }\n\n          return fontFamilyList;\n        }, []).join(',');\n      } else {\n        style.fontFamily = renderFontFace(value, renderer);\n      }\n\n      delete style.fontFace;\n    } else if (property === 'animationName' && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n      if (Array.isArray(value)) {\n        style[property] = value.map(function (frame) {\n          return renderer.renderKeyframe(function () {\n            return frame;\n          });\n        }, props).join(',');\n      } else {\n        style[property] = renderer.renderKeyframe(function () {\n          return value;\n        }, props);\n      }\n    } else if (isPlainObject(value)) {\n      embedded(value, type, renderer, props);\n    }\n  };\n\n  for (var property in style) {\n    _loop(property);\n  }\n\n  return style;\n}\n\nexport default (function () {\n  return embedded;\n});","map":{"version":3,"sources":["C:/Users/jophy/Documents/volvo-cars/node_modules/fela-plugin-embedded/es/index.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","_objectWithoutProperties","keys","target","i","indexOf","Object","hasOwnProperty","call","arrayReduce","isPlainObject","renderFontFace","fontFace","renderer","fontFamily","src","otherProps","Array","isArray","renderFont","undefined","embedded","style","type","props","_loop","property","value","fontFamilyList","push","join","map","frame","renderKeyframe"],"mappings":"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","sourcesContent":["var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport arrayReduce from 'fast-loops/lib/arrayReduce';\nimport isPlainObject from 'isobject';\n\nfunction renderFontFace(fontFace, renderer) {\n  if (typeof fontFace === 'string') {\n    return fontFace;\n  }\n\n  var fontFamily = fontFace.fontFamily,\n      src = fontFace.src,\n      otherProps = _objectWithoutProperties(fontFace, ['fontFamily', 'src']);\n\n  if (typeof fontFamily === 'string' && Array.isArray(src)) {\n    return renderer.renderFont(fontFamily, src, otherProps);\n  }\n\n  // TODO: warning - invalid font data\n  return undefined;\n}\n\nfunction embedded(style, type, renderer, props) {\n  var _loop = function _loop(property) {\n    var value = style[property];\n\n    if (property === 'fontFace' && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n      if (Array.isArray(value)) {\n        style.fontFamily = arrayReduce(value, function (fontFamilyList, fontFace) {\n          var fontFamily = renderFontFace(fontFace, renderer);\n\n          if (fontFamily && fontFamilyList.indexOf(fontFamily) === -1) {\n            fontFamilyList.push(fontFamily);\n          }\n\n          return fontFamilyList;\n        }, []).join(',');\n      } else {\n        style.fontFamily = renderFontFace(value, renderer);\n      }\n      delete style.fontFace;\n    } else if (property === 'animationName' && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n      if (Array.isArray(value)) {\n        style[property] = value.map(function (frame) {\n          return renderer.renderKeyframe(function () {\n            return frame;\n          });\n        }, props).join(',');\n      } else {\n        style[property] = renderer.renderKeyframe(function () {\n          return value;\n        }, props);\n      }\n    } else if (isPlainObject(value)) {\n      embedded(value, type, renderer, props);\n    }\n  };\n\n  for (var property in style) {\n    _loop(property);\n  }\n\n  return style;\n}\n\nexport default (function () {\n  return embedded;\n});"]},"metadata":{},"sourceType":"module"}