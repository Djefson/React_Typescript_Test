{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport React, { useRef, useContext, useEffect } from 'react';\nimport { useFela } from 'react-fela';\nimport PropTypes from 'prop-types';\nimport { Click } from '../click';\nimport { TabNavContext } from '../tab-nav';\nimport { getThemeStyle } from '../../get-theme-style';\n\nvar style = function style(_ref) {\n  var reverseOut = _ref.reverseOut,\n      isActiveTab = _ref.isActiveTab,\n      duration = _ref.duration,\n      theme = _ref.theme;\n  return {\n    minWidth: 50,\n    alignSelf: 'initial',\n    justifyContent: 'center',\n    flexGrow: 0,\n    flexShrink: 0,\n    flexBasis: 'auto',\n    whiteSpace: 'nowrap',\n    paddingTop: theme.baselineGrid * 2,\n    paddingBottom: theme.baselineGrid * 2,\n    display: 'flex',\n    marginRight: theme.baselineGrid * 2.5,\n    transitionProperty: 'color',\n    transitionTimingFunction: 'ease-out',\n    transitionDuration: duration + 'ms',\n    color: reverseOut ? theme.color.primitive.white : theme.color.foreground.primary,\n    textAlign: 'left',\n    letterSpacing: 0.3,\n    fontWeight: 300,\n    fontSize: 16,\n    fontFamily: theme.fontTypes.NOVUM,\n    boxSizing: 'border-box',\n    borderBottomWidth: duration === 0 ? 3 : 0,\n    borderBottomStyle: 'solid',\n    borderBottomColor: 'transparent',\n    ':focus': {\n      outline: 0,\n      color: reverseOut ? theme.color.primitive.white : theme.color.ornament.highlight\n    },\n    ':focus:not(:focus-visible)': {\n      color: reverseOut ? theme.color.primitive.white : theme.color.foreground.primary\n    },\n    ':hover': {\n      color: reverseOut ? theme.color.primitive.white : theme.color.ornament.highlight\n    },\n    extend: [{\n      condition: isActiveTab,\n      style: {\n        borderBottomColor: reverseOut ? theme.color.primitive.white : theme.color.ornament.highlight,\n        color: reverseOut ? theme.color.primitive.white : theme.color.ornament.highlight\n      }\n    }, {\n      condition: duration === 0,\n      style: {\n        ':hover': {\n          borderBottomColor: reverseOut ? theme.color.primitive.white : theme.color.ornament.highlight\n        }\n      }\n    }]\n  };\n};\n\nfunction calculatePosition(currentItem, newItem, scrollItem, isRTL) {\n  var currentOffset = currentItem ? currentItem.offsetLeft : 0;\n  var currentWidth = currentItem ? currentItem.offsetWidth : 0;\n  var newWidth = newItem.offsetWidth;\n  var newOffset = newItem.offsetLeft;\n  var currentDifference = !isRTL ? currentOffset - scrollItem.offsetLeft : scrollItem.offsetWidth - (currentOffset - scrollItem.offsetLeft) - newWidth;\n  var newDifference = !isRTL ? newOffset - scrollItem.offsetLeft : scrollItem.offsetWidth - (newOffset - scrollItem.offsetLeft) - newWidth;\n  return {\n    currentOffset: currentOffset,\n    currentWidth: currentWidth,\n    currentDifference: currentDifference,\n    newWidth: newWidth,\n    newOffset: newOffset,\n    newDifference: newDifference\n  };\n}\n\nfunction activateTab(setActive, currentItem, newItem, scrollItem, borderItem, duration, scrollTolerance, isRTL) {\n  var _calculatePosition = calculatePosition(currentItem, newItem, scrollItem, isRTL),\n      currentOffset = _calculatePosition.currentOffset,\n      currentWidth = _calculatePosition.currentWidth,\n      currentDifference = _calculatePosition.currentDifference,\n      newOffset = _calculatePosition.newOffset,\n      newWidth = _calculatePosition.newWidth,\n      newDifference = _calculatePosition.newDifference;\n\n  var property = isRTL ? 'marginRight' : 'marginLeft';\n  var toLeft = currentOffset > newOffset; // just a small helper to conditionally apply styles to the border element\n\n  function setStyle(style, value) {\n    var condition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    if (condition) {\n      borderItem.style[style] = value + 'px';\n    }\n  } // scroll into view if scrollItem is actually collapsed\n\n\n  if (scrollItem.offsetWidth < scrollItem.scrollWidth && scrollItem.offsetWidth > newWidth) {\n    var newScrollLeft = newItem.offsetLeft - scrollItem.offsetLeft - scrollItem.scrollLeft;\n    var spaceRight = scrollItem.offsetWidth - newWidth - newScrollLeft;\n\n    if (spaceRight - scrollTolerance < 0 || scrollItem.offsetWidth - (spaceRight + scrollTolerance) < newWidth) {\n      scrollItem.scrollLeft = newScrollLeft;\n    }\n  } // set the new active item first to make sure calculation is always correct\n\n\n  setActive(newItem); // initial load\n\n  if (!currentItem) {\n    setStyle('width', newWidth);\n    setStyle(property, newDifference);\n    return;\n  }\n  /**\n   * Depending on the direction, it transforms the width and the x-offset\n   * It uses a helper div (borderRef, see tab-nav/TabNavItemBorder) that is usually hidden\n   * It removes the current TabNavItem border and adds it back once the animation is done\n   */\n\n\n  if (toLeft) {\n    setStyle('width', currentOffset - newOffset + currentWidth);\n    setStyle(property, newDifference, !isRTL);\n    setTimeout(function () {\n      setStyle(property, newDifference, isRTL);\n      setStyle('width', newWidth);\n    }, duration * 3 / 2);\n  } else {\n    setStyle(property, newDifference, isRTL);\n    setStyle('width', newWidth + currentDifference - newDifference, isRTL);\n    setStyle('width', newWidth + newDifference - currentDifference, !isRTL);\n    setTimeout(function () {\n      setStyle('width', newWidth);\n      setStyle(property, newDifference, !isRTL);\n    }, duration * 3 / 2);\n  }\n}\n\nexport var TabNavItem = /*#__PURE__*/React.forwardRef(function (_ref2, _ref3) {\n  var children = _ref2.children,\n      isActive = _ref2.isActive,\n      onClick = _ref2.onClick,\n      props = _objectWithoutProperties(_ref2, [\"children\", \"isActive\", \"onClick\"]);\n\n  var _useContext = useContext(TabNavContext),\n      active = _useContext.active,\n      setActive = _useContext.setActive,\n      scrollRef = _useContext.scrollRef,\n      borderRef = _useContext.borderRef,\n      reverseOut = _useContext.reverseOut,\n      _useContext$duration = _useContext.duration,\n      duration = _useContext$duration === void 0 ? 0 : _useContext$duration;\n\n  var _useFela = useFela(),\n      theme = _useFela.theme;\n\n  var itemRef = useRef();\n  var isRTL = theme.direction !== 'ltr';\n\n  var activate = function activate() {\n    return activateTab(setActive, active, itemRef.current, scrollRef.current, borderRef.current, duration, theme.baselineGrid * 2.5, isRTL);\n  };\n\n  useEffect(function () {\n    if (isActive && setActive) {\n      activate();\n    }\n  }, // also update the active state if isActive is manually updated\n  [isActive, isRTL]);\n  var styleProps = {\n    isActiveTab: active ? active === itemRef.current : isActive,\n    reverseOut: reverseOut,\n    duration: duration,\n    theme: theme\n  };\n\n  var onClickHandler = function onClickHandler(e) {\n    if (setActive) {\n      activate();\n    }\n\n    if (onClick) {\n      onClick(e);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Click, _extends({}, props, {\n    ref: function ref(el) {\n      if (itemRef) itemRef.current = el;\n      if (_ref3) _ref3.current = el;\n    },\n    onClick: onClickHandler,\n    extend: [style(styleProps), getThemeStyle('tabNavItem', theme, styleProps)]\n  }), children);\n});\nTabNavItem.displayName = 'TabNavItem';\nTabNavItem.propTypes = {\n  children: PropTypes.node,\n\n  /** Indicate if the TabNavItem will open a dropdown menu */\n  isDropdown: PropTypes.bool,\n\n  /** Indicate if the TabNavItem is in an active state */\n  isActive: PropTypes.bool,\n\n  /** Onclick function */\n  onClick: PropTypes.func\n};","map":{"version":3,"sources":["C:/Users/jophy/Documents/volvo-cars/node_modules/vcc-ui/es/components/tab-nav-item/index.js"],"names":["_extends","_objectWithoutProperties","React","useRef","useContext","useEffect","useFela","PropTypes","Click","TabNavContext","getThemeStyle","style","_ref","reverseOut","isActiveTab","duration","theme","minWidth","alignSelf","justifyContent","flexGrow","flexShrink","flexBasis","whiteSpace","paddingTop","baselineGrid","paddingBottom","display","marginRight","transitionProperty","transitionTimingFunction","transitionDuration","color","primitive","white","foreground","primary","textAlign","letterSpacing","fontWeight","fontSize","fontFamily","fontTypes","NOVUM","boxSizing","borderBottomWidth","borderBottomStyle","borderBottomColor","outline","ornament","highlight","extend","condition","calculatePosition","currentItem","newItem","scrollItem","isRTL","currentOffset","offsetLeft","currentWidth","offsetWidth","newWidth","newOffset","currentDifference","newDifference","activateTab","setActive","borderItem","scrollTolerance","_calculatePosition","property","toLeft","setStyle","value","arguments","length","undefined","scrollWidth","newScrollLeft","scrollLeft","spaceRight","setTimeout","TabNavItem","forwardRef","_ref2","_ref3","children","isActive","onClick","props","_useContext","active","scrollRef","borderRef","_useContext$duration","_useFela","itemRef","direction","activate","current","styleProps","onClickHandler","e","createElement","ref","el","displayName","propTypes","node","isDropdown","bool","func"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport React, { useRef, useContext, useEffect } from 'react';\nimport { useFela } from 'react-fela';\nimport PropTypes from 'prop-types';\nimport { Click } from '../click';\nimport { TabNavContext } from '../tab-nav';\nimport { getThemeStyle } from '../../get-theme-style';\n\nvar style = function style(_ref) {\n  var reverseOut = _ref.reverseOut,\n      isActiveTab = _ref.isActiveTab,\n      duration = _ref.duration,\n      theme = _ref.theme;\n  return {\n    minWidth: 50,\n    alignSelf: 'initial',\n    justifyContent: 'center',\n    flexGrow: 0,\n    flexShrink: 0,\n    flexBasis: 'auto',\n    whiteSpace: 'nowrap',\n    paddingTop: theme.baselineGrid * 2,\n    paddingBottom: theme.baselineGrid * 2,\n    display: 'flex',\n    marginRight: theme.baselineGrid * 2.5,\n    transitionProperty: 'color',\n    transitionTimingFunction: 'ease-out',\n    transitionDuration: duration + 'ms',\n    color: reverseOut ? theme.color.primitive.white : theme.color.foreground.primary,\n    textAlign: 'left',\n    letterSpacing: 0.3,\n    fontWeight: 300,\n    fontSize: 16,\n    fontFamily: theme.fontTypes.NOVUM,\n    boxSizing: 'border-box',\n    borderBottomWidth: duration === 0 ? 3 : 0,\n    borderBottomStyle: 'solid',\n    borderBottomColor: 'transparent',\n    ':focus': {\n      outline: 0,\n      color: reverseOut ? theme.color.primitive.white : theme.color.ornament.highlight\n    },\n    ':focus:not(:focus-visible)': {\n      color: reverseOut ? theme.color.primitive.white : theme.color.foreground.primary\n    },\n    ':hover': {\n      color: reverseOut ? theme.color.primitive.white : theme.color.ornament.highlight\n    },\n    extend: [{\n      condition: isActiveTab,\n      style: {\n        borderBottomColor: reverseOut ? theme.color.primitive.white : theme.color.ornament.highlight,\n        color: reverseOut ? theme.color.primitive.white : theme.color.ornament.highlight\n      }\n    }, {\n      condition: duration === 0,\n      style: {\n        ':hover': {\n          borderBottomColor: reverseOut ? theme.color.primitive.white : theme.color.ornament.highlight\n        }\n      }\n    }]\n  };\n};\n\nfunction calculatePosition(currentItem, newItem, scrollItem, isRTL) {\n  var currentOffset = currentItem ? currentItem.offsetLeft : 0;\n  var currentWidth = currentItem ? currentItem.offsetWidth : 0;\n  var newWidth = newItem.offsetWidth;\n  var newOffset = newItem.offsetLeft;\n  var currentDifference = !isRTL ? currentOffset - scrollItem.offsetLeft : scrollItem.offsetWidth - (currentOffset - scrollItem.offsetLeft) - newWidth;\n  var newDifference = !isRTL ? newOffset - scrollItem.offsetLeft : scrollItem.offsetWidth - (newOffset - scrollItem.offsetLeft) - newWidth;\n  return {\n    currentOffset: currentOffset,\n    currentWidth: currentWidth,\n    currentDifference: currentDifference,\n    newWidth: newWidth,\n    newOffset: newOffset,\n    newDifference: newDifference\n  };\n}\n\nfunction activateTab(setActive, currentItem, newItem, scrollItem, borderItem, duration, scrollTolerance, isRTL) {\n  var _calculatePosition = calculatePosition(currentItem, newItem, scrollItem, isRTL),\n      currentOffset = _calculatePosition.currentOffset,\n      currentWidth = _calculatePosition.currentWidth,\n      currentDifference = _calculatePosition.currentDifference,\n      newOffset = _calculatePosition.newOffset,\n      newWidth = _calculatePosition.newWidth,\n      newDifference = _calculatePosition.newDifference;\n\n  var property = isRTL ? 'marginRight' : 'marginLeft';\n  var toLeft = currentOffset > newOffset; // just a small helper to conditionally apply styles to the border element\n\n  function setStyle(style, value) {\n    var condition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    if (condition) {\n      borderItem.style[style] = value + 'px';\n    }\n  } // scroll into view if scrollItem is actually collapsed\n\n\n  if (scrollItem.offsetWidth < scrollItem.scrollWidth && scrollItem.offsetWidth > newWidth) {\n    var newScrollLeft = newItem.offsetLeft - scrollItem.offsetLeft - scrollItem.scrollLeft;\n    var spaceRight = scrollItem.offsetWidth - newWidth - newScrollLeft;\n\n    if (spaceRight - scrollTolerance < 0 || scrollItem.offsetWidth - (spaceRight + scrollTolerance) < newWidth) {\n      scrollItem.scrollLeft = newScrollLeft;\n    }\n  } // set the new active item first to make sure calculation is always correct\n\n\n  setActive(newItem); // initial load\n\n  if (!currentItem) {\n    setStyle('width', newWidth);\n    setStyle(property, newDifference);\n    return;\n  }\n  /**\n   * Depending on the direction, it transforms the width and the x-offset\n   * It uses a helper div (borderRef, see tab-nav/TabNavItemBorder) that is usually hidden\n   * It removes the current TabNavItem border and adds it back once the animation is done\n   */\n\n\n  if (toLeft) {\n    setStyle('width', currentOffset - newOffset + currentWidth);\n    setStyle(property, newDifference, !isRTL);\n    setTimeout(function () {\n      setStyle(property, newDifference, isRTL);\n      setStyle('width', newWidth);\n    }, duration * 3 / 2);\n  } else {\n    setStyle(property, newDifference, isRTL);\n    setStyle('width', newWidth + currentDifference - newDifference, isRTL);\n    setStyle('width', newWidth + newDifference - currentDifference, !isRTL);\n    setTimeout(function () {\n      setStyle('width', newWidth);\n      setStyle(property, newDifference, !isRTL);\n    }, duration * 3 / 2);\n  }\n}\n\nexport var TabNavItem = /*#__PURE__*/React.forwardRef(function (_ref2, _ref3) {\n  var children = _ref2.children,\n      isActive = _ref2.isActive,\n      onClick = _ref2.onClick,\n      props = _objectWithoutProperties(_ref2, [\"children\", \"isActive\", \"onClick\"]);\n\n  var _useContext = useContext(TabNavContext),\n      active = _useContext.active,\n      setActive = _useContext.setActive,\n      scrollRef = _useContext.scrollRef,\n      borderRef = _useContext.borderRef,\n      reverseOut = _useContext.reverseOut,\n      _useContext$duration = _useContext.duration,\n      duration = _useContext$duration === void 0 ? 0 : _useContext$duration;\n\n  var _useFela = useFela(),\n      theme = _useFela.theme;\n\n  var itemRef = useRef();\n  var isRTL = theme.direction !== 'ltr';\n\n  var activate = function activate() {\n    return activateTab(setActive, active, itemRef.current, scrollRef.current, borderRef.current, duration, theme.baselineGrid * 2.5, isRTL);\n  };\n\n  useEffect(function () {\n    if (isActive && setActive) {\n      activate();\n    }\n  }, // also update the active state if isActive is manually updated\n  [isActive, isRTL]);\n  var styleProps = {\n    isActiveTab: active ? active === itemRef.current : isActive,\n    reverseOut: reverseOut,\n    duration: duration,\n    theme: theme\n  };\n\n  var onClickHandler = function onClickHandler(e) {\n    if (setActive) {\n      activate();\n    }\n\n    if (onClick) {\n      onClick(e);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Click, _extends({}, props, {\n    ref: function ref(el) {\n      if (itemRef) itemRef.current = el;\n      if (_ref3) _ref3.current = el;\n    },\n    onClick: onClickHandler,\n    extend: [style(styleProps), getThemeStyle('tabNavItem', theme, styleProps)]\n  }), children);\n});\nTabNavItem.displayName = 'TabNavItem';\nTabNavItem.propTypes = {\n  children: PropTypes.node,\n\n  /** Indicate if the TabNavItem will open a dropdown menu */\n  isDropdown: PropTypes.bool,\n\n  /** Indicate if the TabNavItem is in an active state */\n  isActive: PropTypes.bool,\n\n  /** Onclick function */\n  onClick: PropTypes.func\n};"]},"metadata":{},"sourceType":"module"}